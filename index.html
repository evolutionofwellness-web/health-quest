<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Health Quest - Learn real health skills in under 5 minutes a day">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Health Quest</title>
    <link rel="stylesheet" href="style.css?v=1763675903">
</head>
<body>
    <!-- Onboarding Modal -->
    <div id="onboarding-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2 class="modal-title">Welcome to Health Quest</h2>
            <ul class="modal-list">
                <li>Choose a zone that interests you.</li>
                <li>Answer short questions to earn XP.</li>
                <li>Come back daily to keep your streak going.</li>
            </ul>
            <button id="start-button" class="start-button">Let's start</button>
        </div>
    </div>

    <header class="top-bar">
        <h1 class="app-title">Health Quest</h1>
        <button id="help-button" class="help-button" title="Having trouble? Click for help">?</button>
        <div class="xp-display">Total XP: <span id="total-xp">0</span></div>
        <div class="level-display">
            <span class="level-label" id="level-label">Level 1</span>
            <div class="level-progress-bar">
                <div class="level-progress-fill" id="level-progress-fill"></div>
            </div>
            <span class="level-progress-text" id="level-progress-text">(0/100 XP)</span>
        </div>
        <div class="streak-display">Daily streak: <span id="daily-streak">0</span> days</div>
    </header>

    <main class="home-view">
        <!-- Journey Map Strip -->
        <div class="journey-map">
            <div class="journey-node" data-node-index="0" data-zone="sleep">
                <div class="journey-node-connector"></div>
                <div class="journey-node-circle">
                    <span class="journey-icon">üåô</span>
                </div>
                <span class="journey-label">Sleep Camp</span>
            </div>
            <div class="journey-node" data-node-index="1" data-zone="stress">
                <div class="journey-node-connector"></div>
                <div class="journey-node-circle">
                    <span class="journey-icon">üßó‚Äç‚ôÇÔ∏è</span>
                </div>
                <span class="journey-label">Stress Peak</span>
            </div>
            <div class="journey-node" data-node-index="2" data-zone="nutrition">
                <div class="journey-node-connector"></div>
                <div class="journey-node-circle">
                    <span class="journey-icon">üå≤</span>
                </div>
                <span class="journey-label">Nutrition Forest</span>
            </div>
            <div class="journey-node" data-node-index="3" data-zone="movement">
                <div class="journey-node-connector"></div>
                <div class="journey-node-circle">
                    <span class="journey-icon">üèÉ</span>
                </div>
                <span class="journey-label">Movement Trail</span>
            </div>
            <div class="journey-node" data-node-index="4" data-zone="hydration">
                <div class="journey-node-connector"></div>
                <div class="journey-node-circle">
                    <span class="journey-icon">üíß</span>
                </div>
                <span class="journey-label">Hydration Spring</span>
            </div>
            <div class="journey-node" data-node-index="5" data-zone="mindset">
                <div class="journey-node-connector"></div>
                <div class="journey-node-circle">
                    <span class="journey-icon">üß†</span>
                </div>
                <span class="journey-label">Mindset Summit</span>
            </div>
            <div class="journey-node" data-node-index="6" data-zone="mixed">
                <div class="journey-node-connector"></div>
                <div class="journey-node-circle">
                    <span class="journey-icon">üéØ</span>
                </div>
                <span class="journey-label">Mixed 1</span>
            </div>
            <div class="journey-node" data-node-index="7" data-zone="mixed">
                <div class="journey-node-connector"></div>
                <div class="journey-node-circle">
                    <span class="journey-icon">‚ö°</span>
                </div>
                <span class="journey-label">Mixed 2</span>
            </div>
            <div class="journey-node" data-node-index="8" data-zone="mixed">
                <div class="journey-node-connector"></div>
                <div class="journey-node-circle">
                    <span class="journey-icon">üåü</span>
                </div>
                <span class="journey-label">Mixed 3</span>
            </div>
            <div class="journey-node" data-node-index="9" data-zone="mixed">
                <div class="journey-node-connector"></div>
                <div class="journey-node-circle">
                    <span class="journey-icon">üèÜ</span>
                </div>
                <span class="journey-label">Mixed 4</span>
            </div>
        </div>

        <!-- Locked Node Tooltip -->
        <div id="locked-tooltip" class="locked-tooltip hidden">
            Clear earlier stops to unlock this area.
        </div>

        <!-- Current Node Tooltip -->
        <div id="current-tooltip" class="locked-tooltip hidden">
            This is your current stop. Today's tiles live here.
        </div>

        <!-- Achievements Section -->
        <div class="achievements-section">
            <div class="achievements-header" id="achievements-toggle">
                <h2 class="achievements-title">Achievements <span class="achievements-count" id="achievements-count">0 / 4</span></h2>
                <span class="toggle-icon">‚ñº</span>
            </div>
            <p class="achievements-helper">Achievements track small wins you might overlook. They are here to show your consistency, not perfection.</p>
            <div class="achievements-content collapsed" id="achievements-content">
                <div class="achievements-list" id="achievements-list"></div>
            </div>
        </div>

        <!-- Weekly Boss Button -->
        <button id="weekly-boss-button" class="weekly-boss-button" style="display: none;">
            <span class="boss-icon">‚öîÔ∏è</span>
            <span class="boss-text">Weekly Challenge</span>
        </button>

        <div class="zone-grid">
            <div class="zone-card" data-zone="sleep">
                <div class="zone-icon">üåô</div>
                <div class="zone-card-content">
                    <h2 class="zone-name">Sleep <span class="zone-badge" data-zone="sleep"></span></h2>
                    <p class="zone-progress">0 tiles completed</p>
                </div>
            </div>

            <div class="zone-card" data-zone="stress">
                <div class="zone-icon">üßó‚Äç‚ôÇÔ∏è</div>
                <div class="zone-card-content">
                    <h2 class="zone-name">Stress <span class="zone-badge" data-zone="stress"></span></h2>
                    <p class="zone-progress">0 tiles completed</p>
                </div>
            </div>

            <div class="zone-card" data-zone="nutrition">
                <div class="zone-icon">üå≤</div>
                <div class="zone-card-content">
                    <h2 class="zone-name">Nutrition <span class="zone-badge" data-zone="nutrition"></span></h2>
                    <p class="zone-progress">0 tiles completed</p>
                </div>
            </div>

            <div class="zone-card" data-zone="movement">
                <div class="zone-icon">üèÉ</div>
                <div class="zone-card-content">
                    <h2 class="zone-name">Movement <span class="zone-badge" data-zone="movement"></span></h2>
                    <p class="zone-progress">0 tiles completed</p>
                </div>
            </div>

            <div class="zone-card" data-zone="hydration">
                <div class="zone-icon">üíß</div>
                <div class="zone-card-content">
                    <h2 class="zone-name">Hydration <span class="zone-badge" data-zone="hydration"></span></h2>
                    <p class="zone-progress">0 tiles completed</p>
                </div>
            </div>

            <div class="zone-card" data-zone="mindset">
                <div class="zone-icon">üß†</div>
                <div class="zone-card-content">
                    <h2 class="zone-name">Mindset <span class="zone-badge" data-zone="mindset"></span></h2>
                    <p class="zone-progress">0 tiles completed</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Today Summary Strip -->
    <div class="today-summary">
        <span id="today-summary-text">Today: 0 tiles completed ¬∑ +0 XP</span>
    </div>

    <!-- Question Sections for Each Zone -->
    <section id="sleep-questions" class="zone-questions-section">
        <div class="zone-questions-container">
            <h2 class="zone-questions-title" data-zone="sleep">Sleep Camp</h2>
            <p class="daily-quest-helper">Three tiles a day is enough to keep your skills growing.</p>
            <div class="zone-question-list" data-zone="sleep"></div>
            <button class="back-to-home-button">Back to Home</button>
        </div>
    </section>

    <section id="stress-questions" class="zone-questions-section">
        <div class="zone-questions-container">
            <h2 class="zone-questions-title" data-zone="stress">Stress Peak</h2>
            <p class="daily-quest-helper">Three tiles a day is enough to keep your skills growing.</p>
            <div class="zone-question-list" data-zone="stress"></div>
            <button class="back-to-home-button">Back to Home</button>
        </div>
    </section>

    <section id="nutrition-questions" class="zone-questions-section">
        <div class="zone-questions-container">
            <h2 class="zone-questions-title" data-zone="nutrition">Nutrition Forest</h2>
            <p class="daily-quest-helper">Three tiles a day is enough to keep your skills growing.</p>
            <div class="zone-question-list" data-zone="nutrition"></div>
            <button class="back-to-home-button">Back to Home</button>
        </div>
    </section>

    <section id="movement-questions" class="zone-questions-section">
        <div class="zone-questions-container">
            <h2 class="zone-questions-title" data-zone="movement">Movement Trail</h2>
            <p class="daily-quest-helper">Three tiles a day is enough to keep your skills growing.</p>
            <div class="zone-question-list" data-zone="movement"></div>
            <button class="back-to-home-button">Back to Home</button>
        </div>
    </section>

    <section id="hydration-questions" class="zone-questions-section">
        <div class="zone-questions-container">
            <h2 class="zone-questions-title" data-zone="hydration">Hydration Spring</h2>
            <p class="daily-quest-helper">Three tiles a day is enough to keep your skills growing.</p>
            <div class="zone-question-list" data-zone="hydration"></div>
            <button class="back-to-home-button">Back to Home</button>
        </div>
    </section>

    <section id="mindset-questions" class="zone-questions-section">
        <div class="zone-questions-container">
            <h2 class="zone-questions-title" data-zone="mindset">Mindset Summit</h2>
            <p class="daily-quest-helper">Three tiles a day is enough to keep your skills growing.</p>
            <div class="zone-question-list" data-zone="mindset"></div>
            <button class="back-to-home-button">Back to Home</button>
        </div>
    </section>

    <!-- Question Modal -->
    <div id="question-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <h3 id="modal-question-text"></h3>
            <div id="modal-options"></div>
            <p id="modal-feedback" class="modal-feedback"></p>
            <button id="modal-close-btn">Close</button>
        </div>
    </div>

    <!-- Weekly Boss Modal -->
    <div id="weekly-boss-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="boss-modal-content">
            <div class="boss-modal-content-inner">
                <div class="boss-progress" id="boss-progress">Question 1 of 5</div>
                <h3 id="boss-question-text"></h3>
                <div id="boss-options"></div>
                <p id="boss-feedback" class="boss-feedback"></p>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="help-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content" style="max-width: 600px;">
            <h2 style="margin-top: 0;">Need Help?</h2>

            <div style="text-align: left;">
                <h3>Can't click anything?</h3>
                <p><strong>Try these steps:</strong></p>
                <ol>
                    <li><strong>Hard Refresh:</strong> Press <code>Ctrl+F5</code> (Windows) or <code>Cmd+Shift+R</code> (Mac)</li>
                    <li><strong>Clear Cache:</strong> Press <code>Ctrl+Shift+Delete</code>, select "Cached images and files", click "Clear data"</li>
                    <li><strong>Try Incognito Mode:</strong> Open the site in a private/incognito window</li>
                    <li><strong>Check Console:</strong> Press <code>F12</code> ‚Üí Console tab ‚Üí Look for error messages</li>
                </ol>

                <h3>How to play:</h3>
                <ul>
                    <li><strong>Journey Map:</strong> The glowing gold node at the top shows your current location</li>
                    <li><strong>Daily Quest:</strong> Complete 3 tiles each day in your current zone</li>
                    <li><strong>Click Zone Cards:</strong> Click any zone card to view its questions</li>
                    <li><strong>Answer Questions:</strong> Click a tile to open the question modal</li>
                    <li><strong>Earn XP:</strong> Correct answers award XP (first time only)</li>
                </ul>

                <h3>Reset your progress:</h3>
                <p>Open console (F12) and run:</p>
                <code style="display: block; background: #f5f5f5; padding: 10px; border-radius: 4px;">localStorage.clear(); location.reload();</code>
            </div>

            <button id="help-close-btn" style="margin-top: 20px;">Close</button>
        </div>
    </div>

    <footer class="educational-disclaimer">
        For general education only. Not medical advice.
    </footer>

    <script type="module" src="data.js?v=1763675903"></script>
    <script type="module" src="confetti.js?v=1763675903"></script>
    <script type="module" src="app.js?v=1763675903"></script>
</body>
</html>
